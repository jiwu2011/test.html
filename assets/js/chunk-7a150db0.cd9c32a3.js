(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a150db0"],{"01e3":function(e,t,a){},"13d5":function(e,t,a){"use strict";var l=a("23e7"),o=a("d58f").left,r=a("a640"),i=a("ae40"),n=a("2d00"),s=a("605d"),c=r("reduce"),d=i("reduce",{1:0}),u=!s&&n>79&&n<83;l({target:"Array",proto:!0,forced:!c||!d||u},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},3153:function(e,t,a){"use strict";a("01e3")},"87cd":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("template",{slot:"title"},[a("div",{staticStyle:{"font-size":"14px",color:"blue","font-weight":"bold"}},[e._v("保存专家联络人")])]),a("el-form",{attrs:{model:e.form}},[a("el-row",[a("el-col",{attrs:{span:24,offset:0}},[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form",{attrs:{"label-width":"70px"}},[a("el-form-item",{attrs:{label:"专家专业"}},[a("el-cascader",{attrs:{placeholder:"所属专家专业",options:e.types,props:{label:"codeName",value:"codeID",children:"children",checkStrictly:!0,emitPath:!1},filterable:""},model:{value:e.form.kind,callback:function(t){e.$set(e.form,"kind",t)},expression:"form.kind"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form",{attrs:{"label-width":"70px"}},[a("el-form-item",{attrs:{label:"联络人"}},[a("el-input",{attrs:{placeholder:"请输入联络人"},model:{value:e.form.liaisonName,callback:function(t){e.$set(e.form,"liaisonName",t)},expression:"form.liaisonName"}})],1)],1)],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24,offset:0}},[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form",{attrs:{"label-width":"70px"}},[a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{attrs:{placeholder:"联系电话"},model:{value:e.form.liaisonTel,callback:function(t){e.$set(e.form,"liaisonTel",t)},expression:"form.liaisonTel"}})],1)],1)],1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handSave}},[e._v("确 定")])],1)],2),a("div",{staticClass:"search"},[a("el-row",[a("el-col",{attrs:{span:24,offset:0}},[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:6}},[a("el-form",{attrs:{"label-width":"70px"}},[a("el-form-item",{attrs:{label:"相关领域"}},[a("el-select",{attrs:{placeholder:"请选择相关领域",multiple:""},model:{value:e.searchPars.teamGrade,callback:function(t){e.$set(e.searchPars,"teamGrade",t)},expression:"searchPars.teamGrade"}},e._l(e.kinds,(function(e){return a("el-option",{key:e.codeID,attrs:{label:e.codeName,value:e.codeID}})})),1)],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form",{attrs:{"label-width":"70px"}},[a("el-form-item",{attrs:{label:"救援类型"}},[a("el-select",{attrs:{placeholder:"请选择救援类型",multiple:""},model:{value:e.searchPars.teamType,callback:function(t){e.$set(e.searchPars,"teamType",t)},expression:"searchPars.teamType"}},e._l(e.types,(function(e){return a("el-option",{key:e.codeID,attrs:{label:e.codeName,value:e.codeID}})})),1)],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form",{attrs:{"label-width":"60px"}},[a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{attrs:{placeholder:"请输入搜索内容"},model:{value:e.searchPars.contactName,callback:function(t){e.$set(e.searchPars,"contactName",t)},expression:"searchPars.contactName"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handSearch}},[e._v("搜索")]),a("el-button",{attrs:{type:"warning"},on:{click:e.handNew}},[e._v("新增专家联络员")])],1)],1)],1)],1)],1),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":{background:"#eef1f6",color:"#606266"},border:!0,data:e.tableData}},[a("el-table-column",{attrs:{prop:"kindName",label:"专家专业",width:"200",fixed:""}}),a("el-table-column",{attrs:{prop:"liaisonName",label:"联络人",width:"120"}}),a("el-table-column",{attrs:{prop:"liaisonTel",label:"联系电话",width:"120"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){return e.handEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.handDel(t.row)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"5px"},attrs:{background:"",layout:"total,prev, pager, next",total:e.total,"current-page":e.searchPars.pageIndex,"page-size":e.searchPars.pageSize},on:{"current-change":e.handPageIndexChanged}})],1)],1)},o=[],r=(a("4de4"),a("13d5"),a("7c15")),i={watch:{filterText:function(e){this.$refs.tree.filter(e)}},data:function(){return{kinds:[],data:[],types:[],kindProps:{multiple:!0},treePars:{codeID:82,groupName:void 0,parentID:void 0,groupID:void 0,pageIndex:void 0,pageSize:1e3},searchPars:{pageIndex:1,pageSize:10},total:0,dialogFormVisible:!1,formLabelWidth:"80px",form:{liaisonID:void 0,kind:void 0,liaisonName:void 0,liaisonTel:void 0},tableData:[],treeData:[]}},methods:{loadTypes:function(){var e=this,t={codeType:14,pageSize:100};Object(r["c"])(t).then((function(t){var a=t.data,l=a.reduce((function(e,t){return e[t.codeID]=t,t.children=[],e}),{}),o=a.filter((function(e){return l[e.parentID]&&l[e.parentID].children.push(e),"-1"==e.parentID}));e.types=o}))},handSearch:function(){var e=this;console.log(this.searchPars),Object(r["Y"])(this.searchPars).then((function(t){console.log(t),e.tableData=t.data,e.total=t.total}))},handPageIndexChanged:function(e){this.searchPars.pageIndex=e,this.handSearch()},handSave:function(){this.handSaveLiaison()},handNew:function(){this.form.liaisonID=void 0,this.form.kind=void 0,this.form.liaisonName=void 0,this.form.liaisonTel=void 0,this.dialogFormVisible=!0},handEdit:function(e){this.handNew(),this.form.liaisonID=e.liaisonID,this.form.kind=e.kind,this.form.liaisonName=e.liaisonName,this.form.liaisonTel=e.liaisonTel},handDel:function(e){var t=this;this.$confirm("删除后将不能恢复,是否继续?","提示",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then((function(){var a=[e.liaisonID],l={ids:a};Object(r["X"])(l).then((function(e){1==e.status?(t.$message({message:"专家联络员删除成功!",type:"success"}),t.handSearch()):t.$message({message:"专家联络员删除失败!",type:"error"})}))}))},handSaveLiaison:function(){var e=this;Object(r["W"])(this.form).then((function(t){1==t.status?(e.form.liaisonID=t.data,e.$message({message:"保存专家联络员成功!",type:"success"}),e.handSearch(),e.dialogFormVisible=!1):e.$message({message:"保存专家联络员失败!",type:"error"})}))}},created:function(){this.loadTypes(),this.handSearch()},mounted:function(){this.getGroups()}},n=i,s=(a("3153"),a("2877")),c=Object(s["a"])(n,l,o,!1,null,"aed1284c",null);t["default"]=c.exports},d58f:function(e,t,a){var l=a("1c0b"),o=a("7b0b"),r=a("44ad"),i=a("50c4"),n=function(e){return function(t,a,n,s){l(a);var c=o(t),d=r(c),u=i(c.length),h=e?u-1:0,f=e?-1:1;if(n<2)while(1){if(h in d){s=d[h],h+=f;break}if(h+=f,e?h<0:u<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:u>h;h+=f)h in d&&(s=a(s,d[h],h,c));return s}};e.exports={left:n(!1),right:n(!0)}}}]);